Этот проект демонстрирует простой REST API сервер на FastAPI

## Структура проекта
```
project-root/
├── main.py # Основной файл сервера
├── database.py # Тестовая база данных
├── hello.html # HTML-файл для эндпоинта /hello
├── requirements.txt # Список зависимостей
├── tests.py # Тесты для всех эндпоинтов
└── README.md # Инструкция по запуску и тестированию
```
## Установка сервера
0. Создайте новую папку для проекта, или откройте необходимую папку, проверьте, что у вас инициализирован гит в данной папке командой в терминале ```git init```, а также у вас должен быть python версии 3.10 или выше и не должно быть запущено проектов на локальном порте 8000: 
1. Сконируйте репозиторий командой:```git clone https://github.com/S-Kitaev/ex_iot_2_sem``` либо скачайте .zip файл проекта и распакуйте его и перейдите в папку проекта ```cd ex_iot_2_sem```
2. Создайте и активируйте виртуальное окружение:
   ```bash
   python -m venv .venv
   source .venv/bin/activate  # Linux/macOS
   .venv\\Scripts\\activate   # Windows
    ```
3. Установите зависимости командой в терминале:
    ```bash
    pip install -r requirements.txt
    ```
    Либо если же у вас версия python ниже 3.10, по попробуйте установить альтернативный файл с засимостями, другой командой в терминале:
   ```bash
    pip install -r requirements_1.txt
    ```
5. Для запуска сервера нажмите на ```run``` в файле ```main.py``` либо напишите в консоли:
```python main.py```

### Сервер запущен

Можете перейти в браузере по данным адресам:

http://127.0.0.1:8000/hello — вернёт содержимое hello.html

http://127.0.0.1:8000/products — список всех продуктов

http://127.0.0.1:8000/products/{id} — продукт по product_id

Эндпоинты API

1. GET	/hello	Возвращает файл hello.html
2. GET	/products	Список всех продуктов
3. GET	/product/{product_id}	Информация о продукте по ID
4. POST	/product	Создание нового продукта (JSON)
5. DELETE	/product/{product_id}	Удаление продукта по ID

Для того, чтобы протестировать API введите в консоли команду:
```bash 
    pytest tests.py
   ```
тут все тесты будут выполнены верно, так как в тестах заложено, что ответ в половине тестов должен быть 404 error

Либо если вы хотите наглядно увидеть то, как половина тестов выполняется неверно, то можете запустить тест командой:
```bash 
    pytest tests_bad.py
   ```
В данном файле, все тесты, где задаются неверные параметры запросы возвращают assert error и пишется ошибка теста (так как http endpoint = 5, то и ошибок выдаст 5)

Любо вы можете сами ознакомиться с API проекта по ссылке 
http://127.0.0.1:8000/docs

